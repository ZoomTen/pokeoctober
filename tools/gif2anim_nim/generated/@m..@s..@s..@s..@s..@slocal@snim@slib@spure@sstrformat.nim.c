/* Generated by Nim Compiler v2.0.0 */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <sys/types.h>
                          #include <pthread.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg;
typedef struct tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw;
typedef struct tyObject_CatchableError__DaYj0mripAY9by0pBST2gnQ tyObject_CatchableError__DaYj0mripAY9by0pBST2gnQ;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tySequence__a9aInPoLp9cLBhsFoMhh7C3A tySequence__a9aInPoLp9cLBhsFoMhh7C3A;
typedef struct tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg;
typedef struct tyObject_Cell__63almy5QgAJFi8PFYiqhQg tyObject_Cell__63almy5QgAJFi8PFYiqhQg;
typedef struct tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ;
typedef struct tyObject_GcHeap__hU8qDj9ctryZt6O9ctH4Uurw tyObject_GcHeap__hU8qDj9ctryZt6O9ctH4Uurw;
typedef struct tyObject_GcStack__5Jf9cJyzaMIxrKMLnyxaiGA tyObject_GcStack__5Jf9cJyzaMIxrKMLnyxaiGA;
typedef struct tyObject_MemRegion__OpCfV5GspAy4Q4C9b5AsjaQ tyObject_MemRegion__OpCfV5GspAy4Q4C9b5AsjaQ;
typedef struct tyObject_SmallChunk__qtqzCmp59akLw6PRO9csZi6g tyObject_SmallChunk__qtqzCmp59akLw6PRO9csZi6g;
typedef struct tyObject_BigChunk__wwkt2XfgLqemnJfqobXJCA tyObject_BigChunk__wwkt2XfgLqemnJfqobXJCA;
typedef struct tyObject_LLChunk__KyTbA2GUtksg9cw11QC3K9cA tyObject_LLChunk__KyTbA2GUtksg9cw11QC3K9cA;
typedef struct tyObject_IntSet__SL2iw5WNZWqATwFRPQ9anRQ tyObject_IntSet__SL2iw5WNZWqATwFRPQ9anRQ;
typedef struct tyObject_Trunk__GYgYmq2aWFeorc87RVhDow tyObject_Trunk__GYgYmq2aWFeorc87RVhDow;
typedef struct tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw;
typedef struct tyObject_HeapLinks__D3tV4wzSpbYBW5VgWk8HWg tyObject_HeapLinks__D3tV4wzSpbYBW5VgWk8HWg;
typedef struct tyTuple__9bYV9cmzxYXDLUduWt8C6m5A tyTuple__9bYV9cmzxYXDLUduWt8C6m5A;
typedef struct tyObject_GcStat__NCDcyuvMlLZWKDWNVRXsBw tyObject_GcStat__NCDcyuvMlLZWKDWNVRXsBw;
typedef struct tyObject_CellSet__CyyvQ9aZ1LQCSJB6tdYa3VA tyObject_CellSet__CyyvQ9aZ1LQCSJB6tdYa3VA;
typedef struct tyObject_PageDesc__ZlaRbq6Euq9b9bp1FP5Oma2w tyObject_PageDesc__ZlaRbq6Euq9b9bp1FP5Oma2w;
typedef struct tyObject_SharedList__9aVRzsva1TP9c4ov7rPE9aM6A tyObject_SharedList__9aVRzsva1TP9c4ov7rPE9aM6A;
typedef struct tyObject_SharedListNodecolonObjectType___DQbj9aQNoS4zQ2rhMtKnKgw tyObject_SharedListNodecolonObjectType___DQbj9aQNoS4zQ2rhMtKnKgw;
typedef struct tyObject_StackTraceEntry__0mHj9bwT5Bmx9aVjkEEkaWYQ tyObject_StackTraceEntry__0mHj9bwT5Bmx9aVjkEEkaWYQ;
struct TGenericSeq {
	NI len;
	NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg {
	NIM_CHAR fill;
	NIM_CHAR align;
	NIM_CHAR sign;
	NIM_BOOL alternateForm;
	NIM_BOOL padWithZero;
	NI minimumWidth;
	NI precision;
	NIM_CHAR typ;
	NI endPosition;
};
typedef NU8 tyEnum_TNimKind__s6ZcSDNFp3kckyTmY9aSLZg;
typedef NU8 tySet_tyEnum_TNimTypeFlag__aoWLvMcfLzvUu4CDTz9artQ;
typedef N_NIMCALL_PTR(void, tyProc__ojoeKfW4VYIm36I9cpDTQIg) (void* p_p0, NI op_p1);
typedef N_NIMCALL_PTR(void*, tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p_p0);
struct TNimType {
	NI size;
	NI align;
	tyEnum_TNimKind__s6ZcSDNFp3kckyTmY9aSLZg kind;
	tySet_tyEnum_TNimTypeFlag__aoWLvMcfLzvUu4CDTz9artQ flags;
	TNimType* base;
	TNimNode* node;
	void* finalizer;
	tyProc__ojoeKfW4VYIm36I9cpDTQIg marker;
	tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
struct RootObj {
TNimType* m_type;
};
struct Exception {
  RootObj Sup;
	Exception* parent;
	NCSTRING name;
	NimStringDesc* message;
	tySequence__a9aInPoLp9cLBhsFoMhh7C3A* trace;
	Exception* up;
};
struct tyObject_CatchableError__DaYj0mripAY9by0pBST2gnQ {
  Exception Sup;
};
struct tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw {
  tyObject_CatchableError__DaYj0mripAY9by0pBST2gnQ Sup;
};
typedef NU8 tyEnum_TNimNodeKind__9aly59b39a9aIjsOj9adkT4M1QA;
struct TNimNode {
	tyEnum_TNimNodeKind__9aly59b39a9aIjsOj9adkT4M1QA kind;
	NI offset;
	TNimType* typ;
	NCSTRING name;
	NI len;
	TNimNode** sons;
};
struct tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg {
	NI a;
	NI b;
};
struct tyObject_Cell__63almy5QgAJFi8PFYiqhQg {
	NI refcount;
	TNimType* typ;
};
struct tyObject_GcStack__5Jf9cJyzaMIxrKMLnyxaiGA {
	void* bottom;
};
struct tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ {
	NI len;
	NI cap;
	tyObject_Cell__63almy5QgAJFi8PFYiqhQg** d;
};
typedef tyObject_SmallChunk__qtqzCmp59akLw6PRO9csZi6g* tyArray__ygVi5wCyoCY6OXI2AEndjQ[256];
typedef NU32 tyArray__BHbOSqU1t9b3Gt7K2c6fQig[24];
typedef tyObject_BigChunk__wwkt2XfgLqemnJfqobXJCA* tyArray__OClnLO72XvY2UoLbp3TpiQ[32];
typedef tyArray__OClnLO72XvY2UoLbp3TpiQ tyArray__kLNW9b22YJs5xi9c3fxrNkfA[24];
typedef tyObject_Trunk__GYgYmq2aWFeorc87RVhDow* tyArray__nzygcG1uMYHwJCNhbui8rQ[256];
struct tyObject_IntSet__SL2iw5WNZWqATwFRPQ9anRQ {
	tyArray__nzygcG1uMYHwJCNhbui8rQ data;
};
typedef tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw* tyArray__WeBaoQqBxq9aV7dGzFXOcSw[2];
struct tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw {
	tyArray__WeBaoQqBxq9aV7dGzFXOcSw link;
	NI key;
	NI upperBound;
	NI level;
};
struct tyTuple__9bYV9cmzxYXDLUduWt8C6m5A {
tyObject_BigChunk__wwkt2XfgLqemnJfqobXJCA* Field0;
NI Field1;
};
typedef tyTuple__9bYV9cmzxYXDLUduWt8C6m5A tyArray__4jMf9a1MuYCcq29c6Nh58uzg[30];
struct tyObject_HeapLinks__D3tV4wzSpbYBW5VgWk8HWg {
	NI len;
	tyArray__4jMf9a1MuYCcq29c6Nh58uzg chunks;
	tyObject_HeapLinks__D3tV4wzSpbYBW5VgWk8HWg* next;
};
struct tyObject_MemRegion__OpCfV5GspAy4Q4C9b5AsjaQ {
	NI minLargeObj;
	NI maxLargeObj;
	tyArray__ygVi5wCyoCY6OXI2AEndjQ freeSmallChunks;
	NU32 flBitmap;
	tyArray__BHbOSqU1t9b3Gt7K2c6fQig slBitmap;
	tyArray__kLNW9b22YJs5xi9c3fxrNkfA matrix;
	tyObject_LLChunk__KyTbA2GUtksg9cw11QC3K9cA* llmem;
	NI currMem;
	NI maxMem;
	NI freeMem;
	NI occ;
	NI lastSize;
	tyObject_IntSet__SL2iw5WNZWqATwFRPQ9anRQ chunkStarts;
	tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw* root;
	tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw* deleted;
	tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw* last;
	tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw* freeAvlNodes;
	NIM_BOOL lockActive;
	NIM_BOOL locked;
	NIM_BOOL blockChunkSizeIncrease;
	NI nextChunkSize;
	tyObject_AvlNode__VSM8JG6dRWD0PKS4ce9c9bVw bottomData;
	tyObject_HeapLinks__D3tV4wzSpbYBW5VgWk8HWg heapLinks;
};
struct tyObject_GcStat__NCDcyuvMlLZWKDWNVRXsBw {
	NI stackScans;
	NI cycleCollections;
	NI maxThreshold;
	NI maxStackSize;
	NI maxStackCells;
	NI cycleTableSize;
	NI64 maxPause;
};
struct tyObject_CellSet__CyyvQ9aZ1LQCSJB6tdYa3VA {
	NI counter;
	NI max;
	tyObject_PageDesc__ZlaRbq6Euq9b9bp1FP5Oma2w* head;
	tyObject_PageDesc__ZlaRbq6Euq9b9bp1FP5Oma2w** data;
};
typedef long tyArray__B71stzPvuTXMbmiYmn9brGQ[5];
struct tyObject_SharedList__9aVRzsva1TP9c4ov7rPE9aM6A {
	tyObject_SharedListNodecolonObjectType___DQbj9aQNoS4zQ2rhMtKnKgw* head;
	tyObject_SharedListNodecolonObjectType___DQbj9aQNoS4zQ2rhMtKnKgw* tail;
	pthread_mutex_t lock;
};
struct tyObject_GcHeap__hU8qDj9ctryZt6O9ctH4Uurw {
	tyObject_GcStack__5Jf9cJyzaMIxrKMLnyxaiGA stack;
	NI cycleThreshold;
	NI zctThreshold;
	tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ zct;
	tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ decStack;
	tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ tempStack;
	NI recGcLock;
	tyObject_MemRegion__OpCfV5GspAy4Q4C9b5AsjaQ region;
	tyObject_GcStat__NCDcyuvMlLZWKDWNVRXsBw stat;
	tyObject_CellSet__CyyvQ9aZ1LQCSJB6tdYa3VA marked;
	tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ additionalRoots;
	tyObject_SharedList__9aVRzsva1TP9c4ov7rPE9aM6A toDispose;
	NI gcThreadId;
};
struct tyObject_StackTraceEntry__0mHj9bwT5Bmx9aVjkEEkaWYQ {
	NCSTRING procname;
	NI line;
	NCSTRING filename;
};
struct tySequence__a9aInPoLp9cLBhsFoMhh7C3A {
  TGenericSeq Sup;
  tyObject_StackTraceEntry__0mHj9bwT5Bmx9aVjkEEkaWYQ data[SEQ_DECL_SIZE];
};
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, dollar___systemZdollars_u8)(NI x_p0);
static N_INLINE(void, appendString)(NimStringDesc* dest_p0, NimStringDesc* src_p1);
static N_INLINE(void, copyMem__system_u1759)(void* dest_p0, void* source_p1, NI size_p2);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest_p0, NI addlen_p1);
N_LIB_PRIVATE N_NIMCALL(void, unsureAsgnRef)(void** dest_p0, void* src_p1);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(void, parseStandardFormatSpecifier__pureZstrformat_u56)(NimStringDesc* s_p0, NI start_p1, NIM_BOOL ignoreUnknownSuffix_p2, tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg* Result);
N_LIB_PRIVATE N_NIMCALL(NI, parseSaturatedNatural__pureZparseutils_u897)(NimStringDesc* s_p0, NI* b_p1, NI start_p2);
N_LIB_PRIVATE N_NOINLINE(void*, newObj)(TNimType* typ_p0, NI size_p1);
static N_INLINE(NimStringDesc*, X5BX5D___pureZstrutils_u1300)(NimStringDesc* s_p0, tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg x_p1);
N_NIMCALL(NimStringDesc*, mnewString)(NI len_p0);
static N_INLINE(tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg, dotdot___stdZenumutils_u104)(NI a_p0, NI b_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, rawNewString)(NI space_p0);
static N_INLINE(void, asgnRef)(void** dest_p0, void* src_p1);
static N_INLINE(void, incRef__system_u5958)(tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p0);
static N_INLINE(NI, pluspercent___system_u786)(NI x_p0, NI y_p1);
static N_INLINE(tyObject_Cell__63almy5QgAJFi8PFYiqhQg*, usrToCell__system_u5920)(void* usr_p0);
static N_INLINE(NI, minuspercent___system_u806)(NI x_p0, NI y_p1);
static N_INLINE(void, decRef__system_u5965)(tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p0);
static N_INLINE(NIM_BOOL, ltpercent___system_u1083)(NI x_p0, NI y_p1);
static N_INLINE(void, rtlAddZCT__system_u5963)(tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p0);
N_LIB_PRIVATE N_NOINLINE(void, addZCT__system_u5914)(tyObject_CellSeq__bujfeOTzwHFbmRmN0zU6RQ* s_p0, tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p1);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e_p0, NCSTRING ename_p1, NCSTRING procname_p2, NCSTRING filename_p3, NI line_p4);
static N_INLINE(void, appendChar)(NimStringDesc* dest_p0, NIM_CHAR c_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, formatInt__gif50anim_u50)(NI n_p0, NI radix_p1, tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg* spec_p2);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src_p0);
static N_INLINE(NimStringDesc*, mkDigit__pureZstrformat_u5)(NI v_p0, NIM_CHAR typ_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR x_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NIM_CHAR c_p0, NI count_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s_p0, NIM_CHAR c_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, dollar___systemZdollars_u14)(NU64 x_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, formatInt__gif50anim_u92)(NU64 n_p0, NI radix_p1, tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg* spec_p2);
extern TNimType NTIrefvalueerror__iKKhsN9bJHmo4Y3RM7YwCEQ_;
extern TNimType NTIvalueerror__HtqPTcxHId4ksVMd9aXeOsw_;
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_2, "invalid format string, cannot parse: ", 37);
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_3, "invalid type in format string for number, expected one  of \'x\', \'X\', \'b\', \'d\', \'o\' but got: ", 92);
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_4, "0x", 2);
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_5, "0b", 2);
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_6, "0o", 2);
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_7, "0", 1);
STRING_LITERAL(TM__qDXzsifTQdn8ucTam9cFp4w_8, "-", 1);
extern NIM_THREADVAR tyObject_GcHeap__hU8qDj9ctryZt6O9ctH4Uurw gch__system_u5853;
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, copyMem__system_u1759)(void* dest_p0, void* source_p1, NI size_p2) {
	nimCopyMem(dest_p0, source_p1, size_p2);
}
static N_INLINE(void, appendString)(NimStringDesc* dest_p0, NimStringDesc* src_p1) {
	{
		if (!!((src_p1 == ((NimStringDesc*) NIM_NIL)))) goto LA3_;
		copyMem__system_u1759(((void*) ((&(*dest_p0).data[(*dest_p0).Sup.len]))), ((void*) ((*src_p1).data)), ((NI) ((NI)((*src_p1).Sup.len + ((NI)1)))));
		(*dest_p0).Sup.len += (*src_p1).Sup.len;
	}
LA3_: ;
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
}
static N_INLINE(NimStringDesc*, X5BX5D___pureZstrutils_u1300)(NimStringDesc* s_p0, tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg x_p1) {
	NimStringDesc* result;
	NI a;
	NI L;
	result = NIM_NIL;
	a = x_p1.a;
	L = (NI)((NI)((NI)((s_p0 ? s_p0->Sup.len : 0) - x_p1.b) - a) + ((NI)1));
	result = mnewString(((NI) (L)));
	{
		NI i;
		NI i_2;
		i = (NI)0;
		i_2 = ((NI)0);
		{
			while (1) {
				if (!(i_2 < L)) goto LA3;
				i = i_2;
				result->data[i] = s_p0->data[(NI)(i + a)];
				i_2 += ((NI)1);
			} LA3: ;
		}
	}
	return result;
}
static N_INLINE(tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg, dotdot___stdZenumutils_u104)(NI a_p0, NI b_p1) {
	tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg result;
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg));
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg));
	result.a = a_p0;
	result.b = b_p1;
	return result;
}
static N_INLINE(NI, pluspercent___system_u786)(NI x_p0, NI y_p1) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) + (NU64)(((NU) (y_p1))))));
	return result;
}
static N_INLINE(void, incRef__system_u5958)(tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p0) {
	(*c_p0).refcount = pluspercent___system_u786((*c_p0).refcount, ((NI)8));
}
static N_INLINE(NI, minuspercent___system_u806)(NI x_p0, NI y_p1) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) - (NU64)(((NU) (y_p1))))));
	return result;
}
static N_INLINE(tyObject_Cell__63almy5QgAJFi8PFYiqhQg*, usrToCell__system_u5920)(void* usr_p0) {
	tyObject_Cell__63almy5QgAJFi8PFYiqhQg* result;
	NI T1_;
	result = (tyObject_Cell__63almy5QgAJFi8PFYiqhQg*)0;
	T1_ = (NI)0;
	T1_ = minuspercent___system_u806(((NI) (ptrdiff_t) (usr_p0)), ((NI)16));
	result = ((tyObject_Cell__63almy5QgAJFi8PFYiqhQg*) (T1_));
	return result;
}
static N_INLINE(NIM_BOOL, ltpercent___system_u1083)(NI x_p0, NI y_p1) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	result = ((NU64)(((NU) (x_p0))) < (NU64)(((NU) (y_p1))));
	return result;
}
static N_INLINE(void, rtlAddZCT__system_u5963)(tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p0) {
	addZCT__system_u5914((&gch__system_u5853.zct), c_p0);
}
static N_INLINE(void, decRef__system_u5965)(tyObject_Cell__63almy5QgAJFi8PFYiqhQg* c_p0) {
	(*c_p0).refcount = minuspercent___system_u806((*c_p0).refcount, ((NI)8));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = ltpercent___system_u1083((*c_p0).refcount, ((NI)8));
		if (!T3_) goto LA4_;
		rtlAddZCT__system_u5963(c_p0);
	}
LA4_: ;
}
static N_INLINE(void, asgnRef)(void** dest_p0, void* src_p1) {
	{
		tyObject_Cell__63almy5QgAJFi8PFYiqhQg* T5_;
		if (!!((src_p1 == NIM_NIL))) goto LA3_;
		T5_ = (tyObject_Cell__63almy5QgAJFi8PFYiqhQg*)0;
		T5_ = usrToCell__system_u5920(src_p1);
		incRef__system_u5958(T5_);
	}
LA3_: ;
	{
		tyObject_Cell__63almy5QgAJFi8PFYiqhQg* T10_;
		if (!!(((*dest_p0) == NIM_NIL))) goto LA8_;
		T10_ = (tyObject_Cell__63almy5QgAJFi8PFYiqhQg*)0;
		T10_ = usrToCell__system_u5920((*dest_p0));
		decRef__system_u5965(T10_);
	}
LA8_: ;
	(*dest_p0) = src_p1;
}
N_LIB_PRIVATE N_NIMCALL(void, parseStandardFormatSpecifier__pureZstrformat_u56)(NimStringDesc* s_p0, NI start_p1, NIM_BOOL ignoreUnknownSuffix_p2, tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg* Result) {
	NI i;
	NI parsedLength;
	nimZeroMem((void*)Result, sizeof(tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg));
	(*Result).fill = 32;
	(*Result).align = 0;
	(*Result).sign = 45;
	i = start_p1;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = ((NI)(i + ((NI)1)) < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T3_)) goto LA4_;
		T3_ = (((NU8)(s_p0->data[(NI)(i + ((NI)1))])) == ((NU8)(60)) || ((NU8)(s_p0->data[(NI)(i + ((NI)1))])) == ((NU8)(62)) || ((NU8)(s_p0->data[(NI)(i + ((NI)1))])) == ((NU8)(94)));
LA4_: ;
		if (!T3_) goto LA5_;
		(*Result).fill = s_p0->data[i];
		(*Result).align = s_p0->data[(NI)(i + ((NI)1))];
		i += ((NI)2);
	}
	goto LA1_;
LA5_: ;
	{
		NIM_BOOL T8_;
		T8_ = (NIM_BOOL)0;
		T8_ = (i < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T8_)) goto LA9_;
		T8_ = (((NU8)(s_p0->data[i])) == ((NU8)(60)) || ((NU8)(s_p0->data[i])) == ((NU8)(62)) || ((NU8)(s_p0->data[i])) == ((NU8)(94)));
LA9_: ;
		if (!T8_) goto LA10_;
		(*Result).align = s_p0->data[i];
		i += ((NI)1);
	}
	goto LA1_;
LA10_: ;
LA1_: ;
	{
		NIM_BOOL T14_;
		T14_ = (NIM_BOOL)0;
		T14_ = (i < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T14_)) goto LA15_;
		T14_ = (((NU8)(s_p0->data[i])) == ((NU8)(45)) || ((NU8)(s_p0->data[i])) == ((NU8)(43)) || ((NU8)(s_p0->data[i])) == ((NU8)(32)));
LA15_: ;
		if (!T14_) goto LA16_;
		(*Result).sign = s_p0->data[i];
		i += ((NI)1);
	}
LA16_: ;
	{
		NIM_BOOL T20_;
		T20_ = (NIM_BOOL)0;
		T20_ = (i < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T20_)) goto LA21_;
		T20_ = ((NU8)(s_p0->data[i]) == (NU8)(35));
LA21_: ;
		if (!T20_) goto LA22_;
		(*Result).alternateForm = NIM_TRUE;
		i += ((NI)1);
	}
LA22_: ;
	{
		NIM_BOOL T26_;
		NIM_BOOL T27_;
		T26_ = (NIM_BOOL)0;
		T27_ = (NIM_BOOL)0;
		T27_ = ((NI)(i + ((NI)1)) < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T27_)) goto LA28_;
		T27_ = ((NU8)(s_p0->data[i]) == (NU8)(48));
LA28_: ;
		T26_ = T27_;
		if (!(T26_)) goto LA29_;
		T26_ = (((NU8)(s_p0->data[(NI)(i + ((NI)1))])) >= ((NU8)(48)) && ((NU8)(s_p0->data[(NI)(i + ((NI)1))])) <= ((NU8)(57)));
LA29_: ;
		if (!T26_) goto LA30_;
		(*Result).padWithZero = NIM_TRUE;
		i += ((NI)1);
	}
LA30_: ;
	parsedLength = parseSaturatedNatural__pureZparseutils_u897(s_p0, (&(*Result).minimumWidth), i);
	i += parsedLength;
	{
		NIM_BOOL T34_;
		NI parsedLengthB;
		T34_ = (NIM_BOOL)0;
		T34_ = (i < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T34_)) goto LA35_;
		T34_ = ((NU8)(s_p0->data[i]) == (NU8)(46));
LA35_: ;
		if (!T34_) goto LA36_;
		i += ((NI)1);
		parsedLengthB = parseSaturatedNatural__pureZparseutils_u897(s_p0, (&(*Result).precision), i);
		i += parsedLengthB;
	}
	goto LA32_;
LA36_: ;
	{
		(*Result).precision = ((NI)-1);
	}
LA32_: ;
	{
		NIM_BOOL T41_;
		T41_ = (NIM_BOOL)0;
		T41_ = (i < (s_p0 ? s_p0->Sup.len : 0));
		if (!(T41_)) goto LA42_;
		T41_ = (((NU8)(s_p0->data[i])) >= ((NU8)(65)) && ((NU8)(s_p0->data[i])) <= ((NU8)(90)) || ((NU8)(s_p0->data[i])) >= ((NU8)(97)) && ((NU8)(s_p0->data[i])) <= ((NU8)(122)));
LA42_: ;
		if (!T41_) goto LA43_;
		(*Result).typ = s_p0->data[i];
		i += ((NI)1);
	}
LA43_: ;
	(*Result).endPosition = i;
	{
		NIM_BOOL T47_;
		tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw* T51_;
		NimStringDesc* T52_;
		tyObject_HSlice__M59bWryXDzi9cuLaUQXWQ7fg T53_;
		NimStringDesc* T54_;
		T47_ = (NIM_BOOL)0;
		T47_ = !((i == (s_p0 ? s_p0->Sup.len : 0)));
		if (!(T47_)) goto LA48_;
		T47_ = !(ignoreUnknownSuffix_p2);
LA48_: ;
		if (!T47_) goto LA49_;
		T51_ = NIM_NIL;
		T51_ = (tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw*) newObj((&NTIrefvalueerror__iKKhsN9bJHmo4Y3RM7YwCEQ_), sizeof(tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw));
		(*T51_).Sup.Sup.Sup.m_type = (&NTIvalueerror__HtqPTcxHId4ksVMd9aXeOsw_);
		(*T51_).Sup.Sup.name = "ValueError";
		T52_ = NIM_NIL;
		T53_ = dotdot___stdZenumutils_u104(i, ((NI)1));
		T54_ = NIM_NIL;
		T54_ = X5BX5D___pureZstrutils_u1300(s_p0, T53_);
		T52_ = rawNewString((T54_ ? T54_->Sup.len : 0) + 37);
appendString(T52_, ((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_2));
appendString(T52_, T54_);
		asgnRef((void**) (&(*T51_).Sup.Sup.message), T52_);
		asgnRef((void**) (&(*T51_).Sup.Sup.parent), ((Exception*) NIM_NIL));
		raiseExceptionEx((Exception*)T51_, "ValueError", "parseStandardFormatSpecifier", "strformat.nim", 472);
	}
LA49_: ;
}
static N_INLINE(void, appendChar)(NimStringDesc* dest_p0, NIM_CHAR c_p1) {
	(*dest_p0).data[(*dest_p0).Sup.len] = c_p1;
	(*dest_p0).data[(NI)((*dest_p0).Sup.len + ((NI)1))] = 0;
	(*dest_p0).Sup.len += ((NI)1);
}
static N_INLINE(NimStringDesc*, mkDigit__pureZstrformat_u5)(NI v_p0, NIM_CHAR typ_p1) {
	NimStringDesc* result;
	result = NIM_NIL;
	{
		if (!(v_p0 < ((NI)10))) goto LA3_;
		result = nimCharToStr(((NIM_CHAR) (((NI) ((NI)(((NI)48) + v_p0))))));
	}
	goto LA1_;
LA3_: ;
	{
		NIM_CHAR T6_;
		T6_ = (NIM_CHAR)0;
		{
			if (!((NU8)(typ_p1) == (NU8)(120))) goto LA9_;
			T6_ = 97;
		}
		goto LA7_;
LA9_: ;
		{
			T6_ = 65;
		}
LA7_: ;
		result = nimCharToStr(((NIM_CHAR) (((NI) ((NI)((NI)(((NU8)(T6_)) + v_p0) - ((NI)10)))))));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, formatInt__gif50anim_u50)(NI n_p0, NI radix_p1, tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg* spec_p2) {
	NimStringDesc* result;
	NI64 n_2;
	NIM_BOOL negative;
	NU64 v;
	NimStringDesc* xx;
	result = NIM_NIL;
	n_2 = ((NI64) (n_p0));
	negative = (n_2 < IL64(0));
	{
		if (!negative) goto LA3_;
		v = (NU64)((NU64)(((NU64) ((NI64)((NU64) ~(n_2))))) + (NU64)(1ULL));
	}
	goto LA1_;
LA3_: ;
	{
		v = ((NU64) (n_2));
	}
LA1_: ;
	xx = ((NimStringDesc*) NIM_NIL);
	{
		if (!(*spec_p2).alternateForm) goto LA8_;
		switch (((NU8)((*spec_p2).typ))) {
		case 88:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_4));
		}
		break;
		case 120:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_4));
		}
		break;
		case 98:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_5));
		}
		break;
		case 111:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_6));
		}
		break;
		default:
		{
		}
		break;
		}
	}
LA8_: ;
	{
		if (!(v == 0ULL)) goto LA17_;
		result = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_7));
	}
	goto LA15_;
LA17_: ;
	{
		result = ((NimStringDesc*) NIM_NIL);
		{
			while (1) {
				NU64 d;
				NimStringDesc* T22_;
				if (!((NU64)(0ULL) < (NU64)(v))) goto LA21;
				d = (NU64)((NU64)(v) % (NU64)(((NU64) (radix_p1))));
				v = (NU64)((NU64)(v) / (NU64)(((NU64) (radix_p1))));
				T22_ = NIM_NIL;
				T22_ = mkDigit__pureZstrformat_u5(((NI) (d)), (*spec_p2).typ);
				result = resizeString(result, (T22_ ? T22_->Sup.len : 0) + 0);
appendString(result, T22_);
			} LA21: ;
		}
		{
			NI idx;
			NI colontmp_;
			NI i;
			idx = (NI)0;
			colontmp_ = (NI)0;
			colontmp_ = (NI)((result ? result->Sup.len : 0) / ((NI)2));
			i = ((NI)0);
			{
				while (1) {
					NIM_CHAR T26_;
					if (!(i < colontmp_)) goto LA25;
					idx = i;
					T26_ = (NIM_CHAR)0;
					T26_ = result->data[idx];
					result->data[idx] = result->data[(NI)((NI)((result ? result->Sup.len : 0) - idx) - ((NI)1))];
					result->data[(NI)((NI)((result ? result->Sup.len : 0) - idx) - ((NI)1))] = T26_;
					i += ((NI)1);
				} LA25: ;
			}
		}
	}
LA15_: ;
	{
		NIM_BOOL sign;
		NIM_BOOL T31_;
		NI toFill;
		if (!(*spec_p2).padWithZero) goto LA29_;
		T31_ = (NIM_BOOL)0;
		T31_ = negative;
		if (T31_) goto LA32_;
		T31_ = !(((NU8)((*spec_p2).sign) == (NU8)(45)));
LA32_: ;
		sign = T31_;
		toFill = (NI)((NI)((NI)((*spec_p2).minimumWidth - (result ? result->Sup.len : 0)) - (xx ? xx->Sup.len : 0)) - sign);
		{
			NimStringDesc* T37_;
			NimStringDesc* T38_;
			if (!(((NI)0) < toFill)) goto LA35_;
			T37_ = NIM_NIL;
			T38_ = NIM_NIL;
			T38_ = nsuRepeatChar(48, ((NI) (toFill)));
			T37_ = rawNewString((T38_ ? T38_->Sup.len : 0) + (result ? result->Sup.len : 0) + 0);
appendString(T37_, T38_);
appendString(T37_, result);
			result = T37_;
		}
LA35_: ;
	}
LA29_: ;
	{
		NimStringDesc* T43_;
		if (!negative) goto LA41_;
		T43_ = NIM_NIL;
		T43_ = rawNewString((xx ? xx->Sup.len : 0) + (result ? result->Sup.len : 0) + 1);
appendString(T43_, ((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_8));
appendString(T43_, xx);
appendString(T43_, result);
		result = T43_;
	}
	goto LA39_;
LA41_: ;
	{
		NimStringDesc* T47_;
		if (!!(((NU8)((*spec_p2).sign) == (NU8)(45)))) goto LA45_;
		T47_ = NIM_NIL;
		T47_ = rawNewString((xx ? xx->Sup.len : 0) + (result ? result->Sup.len : 0) + 1);
appendChar(T47_, (*spec_p2).sign);
appendString(T47_, xx);
appendString(T47_, result);
		result = T47_;
	}
	goto LA39_;
LA45_: ;
	{
		NimStringDesc* T49_;
		T49_ = NIM_NIL;
		T49_ = rawNewString((xx ? xx->Sup.len : 0) + (result ? result->Sup.len : 0) + 0);
appendString(T49_, xx);
appendString(T49_, result);
		result = T49_;
	}
LA39_: ;
	{
		if (!((NU8)((*spec_p2).align) == (NU8)(60))) goto LA52_;
		{
			NI i_2;
			NI colontmp__2;
			NI i_3;
			i_2 = (NI)0;
			colontmp__2 = (NI)0;
			colontmp__2 = (result ? result->Sup.len : 0);
			i_3 = colontmp__2;
			{
				while (1) {
					if (!(i_3 < (*spec_p2).minimumWidth)) goto LA56;
					i_2 = i_3;
					result = addChar(result, (*spec_p2).fill);
					i_3 += ((NI)1);
				} LA56: ;
			}
		}
	}
	goto LA50_;
LA52_: ;
	{
		NI toFill_2;
		toFill_2 = (NI)((*spec_p2).minimumWidth - (result ? result->Sup.len : 0));
		{
			NI half;
			NimStringDesc* T62_;
			NimStringDesc* T63_;
			NimStringDesc* T64_;
			if (!((NU8)((*spec_p2).align) == (NU8)(94))) goto LA60_;
			half = (NI)(toFill_2 / ((NI)2));
			T62_ = NIM_NIL;
			T63_ = NIM_NIL;
			T63_ = nsuRepeatChar((*spec_p2).fill, ((NI) (half)));
			T64_ = NIM_NIL;
			T64_ = nsuRepeatChar((*spec_p2).fill, ((NI) ((NI)(toFill_2 - half))));
			T62_ = rawNewString((T63_ ? T63_->Sup.len : 0) + (result ? result->Sup.len : 0) + (T64_ ? T64_->Sup.len : 0) + 0);
appendString(T62_, T63_);
appendString(T62_, result);
appendString(T62_, T64_);
			result = T62_;
		}
		goto LA58_;
LA60_: ;
		{
			{
				NimStringDesc* T70_;
				NimStringDesc* T71_;
				if (!(((NI)0) < toFill_2)) goto LA68_;
				T70_ = NIM_NIL;
				T71_ = NIM_NIL;
				T71_ = nsuRepeatChar((*spec_p2).fill, ((NI) (toFill_2)));
				T70_ = rawNewString((T71_ ? T71_->Sup.len : 0) + (result ? result->Sup.len : 0) + 0);
appendString(T70_, T71_);
appendString(T70_, result);
				result = T70_;
			}
LA68_: ;
		}
LA58_: ;
	}
LA50_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, formatValue__gif50anim_u42)(NimStringDesc** result_p0, NI value_p1, NimStringDesc* specifier_p2) {
	tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg spec;
	NI radix;
	NimStringDesc* T13_;
{	{
		NimStringDesc* T5_;
		if (!((specifier_p2 ? specifier_p2->Sup.len : 0) == ((NI)0))) goto LA3_;
		T5_ = NIM_NIL;
		T5_ = dollar___systemZdollars_u8(value_p1);
		unsureAsgnRef((void**) (&(*result_p0)), resizeString((*result_p0), (T5_ ? T5_->Sup.len : 0) + 0));
appendString((*result_p0), T5_);
		goto BeforeRet_;
	}
LA3_: ;
	nimZeroMem((void*)(&spec), sizeof(tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg));
	parseStandardFormatSpecifier__pureZstrformat_u56(specifier_p2, ((NI)0), NIM_FALSE, (&spec));
	radix = ((NI)10);
	switch (((NU8)(spec.typ))) {
	case 120:
	case 88:
	{
		radix = ((NI)16);
	}
	break;
	case 100:
	case 0:
	{
	}
	break;
	case 98:
	{
		radix = ((NI)2);
	}
	break;
	case 111:
	{
		radix = ((NI)8);
	}
	break;
	default:
	{
		tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw* T11_;
		NimStringDesc* T12_;
		T11_ = NIM_NIL;
		T11_ = (tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw*) newObj((&NTIrefvalueerror__iKKhsN9bJHmo4Y3RM7YwCEQ_), sizeof(tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw));
		(*T11_).Sup.Sup.Sup.m_type = (&NTIvalueerror__HtqPTcxHId4ksVMd9aXeOsw_);
		(*T11_).Sup.Sup.name = "ValueError";
		T12_ = NIM_NIL;
		T12_ = rawNewString(93);
appendString(T12_, ((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_3));
appendChar(T12_, spec.typ);
		asgnRef((void**) (&(*T11_).Sup.Sup.message), T12_);
		asgnRef((void**) (&(*T11_).Sup.Sup.parent), ((Exception*) NIM_NIL));
		raiseExceptionEx((Exception*)T11_, "ValueError", "formatValue", "strformat.nim", 491);
	}
	break;
	}
	T13_ = NIM_NIL;
	T13_ = formatInt__gif50anim_u50(value_p1, radix, (&spec));
	unsureAsgnRef((void**) (&(*result_p0)), resizeString((*result_p0), (T13_ ? T13_->Sup.len : 0) + 0));
appendString((*result_p0), T13_);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, formatInt__gif50anim_u92)(NU64 n_p0, NI radix_p1, tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg* spec_p2) {
	NimStringDesc* result;
	NU64 v;
	NIM_BOOL negative;
	NimStringDesc* xx;
	result = NIM_NIL;
	v = n_p0;
	negative = NIM_FALSE;
	xx = ((NimStringDesc*) NIM_NIL);
	{
		if (!(*spec_p2).alternateForm) goto LA3_;
		switch (((NU8)((*spec_p2).typ))) {
		case 88:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_4));
		}
		break;
		case 120:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_4));
		}
		break;
		case 98:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_5));
		}
		break;
		case 111:
		{
			xx = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_6));
		}
		break;
		default:
		{
		}
		break;
		}
	}
LA3_: ;
	{
		if (!(v == 0ULL)) goto LA12_;
		result = copyString(((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_7));
	}
	goto LA10_;
LA12_: ;
	{
		result = ((NimStringDesc*) NIM_NIL);
		{
			while (1) {
				NU64 d;
				NimStringDesc* T17_;
				if (!((NU64)(0ULL) < (NU64)(v))) goto LA16;
				d = (NU64)((NU64)(v) % (NU64)(((NU64) (radix_p1))));
				v = (NU64)((NU64)(v) / (NU64)(((NU64) (radix_p1))));
				T17_ = NIM_NIL;
				T17_ = mkDigit__pureZstrformat_u5(((NI) (d)), (*spec_p2).typ);
				result = resizeString(result, (T17_ ? T17_->Sup.len : 0) + 0);
appendString(result, T17_);
			} LA16: ;
		}
		{
			NI idx;
			NI colontmp_;
			NI i;
			idx = (NI)0;
			colontmp_ = (NI)0;
			colontmp_ = (NI)((result ? result->Sup.len : 0) / ((NI)2));
			i = ((NI)0);
			{
				while (1) {
					NIM_CHAR T21_;
					if (!(i < colontmp_)) goto LA20;
					idx = i;
					T21_ = (NIM_CHAR)0;
					T21_ = result->data[idx];
					result->data[idx] = result->data[(NI)((NI)((result ? result->Sup.len : 0) - idx) - ((NI)1))];
					result->data[(NI)((NI)((result ? result->Sup.len : 0) - idx) - ((NI)1))] = T21_;
					i += ((NI)1);
				} LA20: ;
			}
		}
	}
LA10_: ;
	{
		NIM_BOOL sign;
		NIM_BOOL T26_;
		NI toFill;
		if (!(*spec_p2).padWithZero) goto LA24_;
		T26_ = (NIM_BOOL)0;
		T26_ = negative;
		if (T26_) goto LA27_;
		T26_ = !(((NU8)((*spec_p2).sign) == (NU8)(45)));
LA27_: ;
		sign = T26_;
		toFill = (NI)((NI)((NI)((*spec_p2).minimumWidth - (result ? result->Sup.len : 0)) - (xx ? xx->Sup.len : 0)) - sign);
		{
			NimStringDesc* T32_;
			NimStringDesc* T33_;
			if (!(((NI)0) < toFill)) goto LA30_;
			T32_ = NIM_NIL;
			T33_ = NIM_NIL;
			T33_ = nsuRepeatChar(48, ((NI) (toFill)));
			T32_ = rawNewString((T33_ ? T33_->Sup.len : 0) + (result ? result->Sup.len : 0) + 0);
appendString(T32_, T33_);
appendString(T32_, result);
			result = T32_;
		}
LA30_: ;
	}
LA24_: ;
	{
		NimStringDesc* T38_;
		if (!negative) goto LA36_;
		T38_ = NIM_NIL;
		T38_ = rawNewString((xx ? xx->Sup.len : 0) + (result ? result->Sup.len : 0) + 1);
appendString(T38_, ((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_8));
appendString(T38_, xx);
appendString(T38_, result);
		result = T38_;
	}
	goto LA34_;
LA36_: ;
	{
		NimStringDesc* T42_;
		if (!!(((NU8)((*spec_p2).sign) == (NU8)(45)))) goto LA40_;
		T42_ = NIM_NIL;
		T42_ = rawNewString((xx ? xx->Sup.len : 0) + (result ? result->Sup.len : 0) + 1);
appendChar(T42_, (*spec_p2).sign);
appendString(T42_, xx);
appendString(T42_, result);
		result = T42_;
	}
	goto LA34_;
LA40_: ;
	{
		NimStringDesc* T44_;
		T44_ = NIM_NIL;
		T44_ = rawNewString((xx ? xx->Sup.len : 0) + (result ? result->Sup.len : 0) + 0);
appendString(T44_, xx);
appendString(T44_, result);
		result = T44_;
	}
LA34_: ;
	{
		if (!((NU8)((*spec_p2).align) == (NU8)(60))) goto LA47_;
		{
			NI i_2;
			NI colontmp__2;
			NI i_3;
			i_2 = (NI)0;
			colontmp__2 = (NI)0;
			colontmp__2 = (result ? result->Sup.len : 0);
			i_3 = colontmp__2;
			{
				while (1) {
					if (!(i_3 < (*spec_p2).minimumWidth)) goto LA51;
					i_2 = i_3;
					result = addChar(result, (*spec_p2).fill);
					i_3 += ((NI)1);
				} LA51: ;
			}
		}
	}
	goto LA45_;
LA47_: ;
	{
		NI toFill_2;
		toFill_2 = (NI)((*spec_p2).minimumWidth - (result ? result->Sup.len : 0));
		{
			NI half;
			NimStringDesc* T57_;
			NimStringDesc* T58_;
			NimStringDesc* T59_;
			if (!((NU8)((*spec_p2).align) == (NU8)(94))) goto LA55_;
			half = (NI)(toFill_2 / ((NI)2));
			T57_ = NIM_NIL;
			T58_ = NIM_NIL;
			T58_ = nsuRepeatChar((*spec_p2).fill, ((NI) (half)));
			T59_ = NIM_NIL;
			T59_ = nsuRepeatChar((*spec_p2).fill, ((NI) ((NI)(toFill_2 - half))));
			T57_ = rawNewString((T58_ ? T58_->Sup.len : 0) + (result ? result->Sup.len : 0) + (T59_ ? T59_->Sup.len : 0) + 0);
appendString(T57_, T58_);
appendString(T57_, result);
appendString(T57_, T59_);
			result = T57_;
		}
		goto LA53_;
LA55_: ;
		{
			{
				NimStringDesc* T65_;
				NimStringDesc* T66_;
				if (!(((NI)0) < toFill_2)) goto LA63_;
				T65_ = NIM_NIL;
				T66_ = NIM_NIL;
				T66_ = nsuRepeatChar((*spec_p2).fill, ((NI) (toFill_2)));
				T65_ = rawNewString((T66_ ? T66_->Sup.len : 0) + (result ? result->Sup.len : 0) + 0);
appendString(T65_, T66_);
appendString(T65_, result);
				result = T65_;
			}
LA63_: ;
		}
LA53_: ;
	}
LA45_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, formatValue__gif50anim_u84)(NimStringDesc** result_p0, NU64 value_p1, NimStringDesc* specifier_p2) {
	tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg spec;
	NI radix;
	NimStringDesc* T13_;
{	{
		NimStringDesc* T5_;
		if (!((specifier_p2 ? specifier_p2->Sup.len : 0) == ((NI)0))) goto LA3_;
		T5_ = NIM_NIL;
		T5_ = dollar___systemZdollars_u14(value_p1);
		unsureAsgnRef((void**) (&(*result_p0)), resizeString((*result_p0), (T5_ ? T5_->Sup.len : 0) + 0));
appendString((*result_p0), T5_);
		goto BeforeRet_;
	}
LA3_: ;
	nimZeroMem((void*)(&spec), sizeof(tyObject_StandardFormatSpecifier__vxszF2vm8EN0cL18eNrAkg));
	parseStandardFormatSpecifier__pureZstrformat_u56(specifier_p2, ((NI)0), NIM_FALSE, (&spec));
	radix = ((NI)10);
	switch (((NU8)(spec.typ))) {
	case 120:
	case 88:
	{
		radix = ((NI)16);
	}
	break;
	case 100:
	case 0:
	{
	}
	break;
	case 98:
	{
		radix = ((NI)2);
	}
	break;
	case 111:
	{
		radix = ((NI)8);
	}
	break;
	default:
	{
		tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw* T11_;
		NimStringDesc* T12_;
		T11_ = NIM_NIL;
		T11_ = (tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw*) newObj((&NTIrefvalueerror__iKKhsN9bJHmo4Y3RM7YwCEQ_), sizeof(tyObject_ValueError__HtqPTcxHId4ksVMd9aXeOsw));
		(*T11_).Sup.Sup.Sup.m_type = (&NTIvalueerror__HtqPTcxHId4ksVMd9aXeOsw_);
		(*T11_).Sup.Sup.name = "ValueError";
		T12_ = NIM_NIL;
		T12_ = rawNewString(93);
appendString(T12_, ((NimStringDesc*) &TM__qDXzsifTQdn8ucTam9cFp4w_3));
appendChar(T12_, spec.typ);
		asgnRef((void**) (&(*T11_).Sup.Sup.message), T12_);
		asgnRef((void**) (&(*T11_).Sup.Sup.parent), ((Exception*) NIM_NIL));
		raiseExceptionEx((Exception*)T11_, "ValueError", "formatValue", "strformat.nim", 491);
	}
	break;
	}
	T13_ = NIM_NIL;
	T13_ = formatInt__gif50anim_u92(value_p1, radix, (&spec));
	unsureAsgnRef((void**) (&(*result_p0)), resizeString((*result_p0), (T13_ ? T13_->Sup.len : 0) + 0));
appendString((*result_p0), T13_);
	}BeforeRet_: ;
}
